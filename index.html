<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>webinstaller</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>

</body>
<script>
  console.log(window.location.href)
  var url1 = new URL(window.location.href);
  var params = url1.searchParams;

  var label;
  var url;
  var icon;
  function submitfunc() {
    label = document.querySelector("#label").value;
    url = document.querySelector("#url").value;
    icon = document.querySelector("#icon").value;
    location.href = location.origin+`?label1=${encodeURIComponent(label)}&url1=${encodeURIComponent(url)}&icon1=${encodeURIComponent(icon)}`;
  }
  
  if(params.get('label1')) {
    document.querySelector("head").innerHTML += `
      <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="application-name" content="${params.get('label1')}" />
<meta name="apple-mobile-web-app-title" content="${params.get('label1')}" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<link rel="apple-touch-icon" href="${params.get('icon1')}" />
    `;
    if (window.navigator.standalone) {
   
    window.location = (params.get('url1'));


      document.write(`<button onclick="window.location = (${params.get('url1')});">launch</button>`)
} else {
      document.write("ADD TO HOMESCREEN<br>")
}

  } else {
    document.body.innerHTML += `
     <span> enter app details to install<span><br>
 <input type="text" name="label" placeholder="label" id="label">
<input type="text" name="icon" placeholder="icon url" id="icon">
  <input type="text" name="url" placeholder="url" id="url">
  <button id="submit" onclick="submitfunc()">install</button>
    `
  }

</script>
</html>